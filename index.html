<!DOCTYPE html>
<html>

<head>
	<link rel="icon" type="image/png" href="./resources/assets/icon-dark.png" media="(prefers-color-scheme: dark)" />
	<link rel="icon" type="image/png" href="./resources/assets/icon-light.png" media="(prefers-color-scheme: light)" />

	<title>Educational Objectives</title>

	<script>
		document.cookie = "__Host-name=value; Secure; Path=/; SameSite=None; Partitioned;"; //allow cookie partitioning
	</script>

	<!-- custom styles -->
	<link rel="stylesheet" href="resources/styles/layout.css">
	<link rel="stylesheet" href="resources/styles/loader.css">
	<link rel="stylesheet" href="resources/styles/modal.css">
	<link rel="stylesheet" href="resources/styles/table.css">
	<link rel="stylesheet" href="resources/styles/eo.css">

	<!-- icons and fonts -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.2/font/bootstrap-icons.min.css">

	<!-- external libraries -->
	<script src="https://unpkg.com/virtual-scroller@1.x/bundle/virtual-scroller-dom.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.2.0/crypto-js.min.js"></script>
	<script src="https://apis.google.com/js/api.js"></script>

</head>

<body>
	<div class="headerBanner"></div>
	<div id="topFade" class="topFade"></div>
	<div class="background-static"></div>
	<div class="allContent masked-overflow">
		<div id="headerContent" class="header" style="visibility: hidden;">
			<div class="titleAndButtons">
				<span class="titleAndName">
					<h4>
						<span>Content Explorer</span>
						<span id="nameVersionSpan" style="visibility: hidden; margin-left: 12px;">
							<mark id="nameSpan" class="headerBadge">Placeholder</mark>
							<mark id="versionSpan" class="headerBadge">vXX</mark>
						</span>
					</h4>
				</span>
				<span id="selectTestSpan" style="display: none;">
					<select id="selectTest" class="selectTest" onchange="onTestSelectChanged(this)">
						<option value="s1">Step 1</option>
						<option value="s2">Step 2</option>
						<option value="bar">Bar</option>
					</select>
				</span>
				<span id="oneTest" class="oneTest" style="display: none;">
				</span>
				<span>
					<span id="helpButton" class="topActionButton" onclick="showHelp()" title="Help">
						<i id="helpIcon" class="bi bi-question-circle"></i>
					</span>
					<span id="flagButton" class="topActionButton" onclick="toggleFlagged()" title="Flagged">
						<i id="flagIcon" class="bi bi-flag"></i>
					</span>
					<span id="completedButton" class="topActionButton" onclick="toggleCompleted()" title="Completed"
						style="display: none;">
						<i id="completedIcon" class="bi bi-check-square"></i>
					</span>
					<span id="sortButton" class="topActionButton" onclick="toggleSorted()" title="Sort">
						<i id="sortIcon" class="bi bi-sort-down"></i>
					</span>
					<span id="themeButton" class="topActionButton" onclick="toggleTheme()" title="Toggle theme">
						<i id="themeIcon" class="bi"></i>
					</span>
				</span>
			</div>
			<div id="currentSearch" class="searchBar">
				<span class="searchContainer">
					<input class="search" type="text" id="search" placeholder="Search"
						oninput="setCurrentSearch(this.value)" maxlength="30">
					<div class="searchRightContent">
						<span id="resultCount" class="resultCount"></span>
						<span class="clearButton" onclick="setCurrentSearch('')">âœ–</span>
					</div>
				</span>
			</div>
		</div>
		<span id="resultCount" class="resultCount"></span>
		<div id="displayContentContainer" style="visibility: hidden;">
			<div id="displayContent" class="eoBody fadeIn"></div> <!-- the actual content -->
		</div>
		<div id="loaderWrapper" style="display: '';">
			<div id="loaderSpinner"></div>
			<div id="loaderMessage">Loaderrrrrr</div>
		</div>
	</div>
	<div id="detailsModal" class="modalWindow">
		<div class="modalContent">
			<div id="modalDetailsContainer" class="modalDetailsContainer"></div>
		</div>
		<div id="modalIndexDisplay" class="modalIndexDisplay"></div>
	</div>
</body>

<!-- custom scripts -->
<script src="resources/js/contentManagement.js"></script>
<script>
	if (hasRemoteStorage()) {
		document.getElementById("completedButton").style.display = "";
	}

	if (!userHasRegistryKeys()) {
		const message = "Error 401: Unauthorized access. Please contact the administrator.";
		// showErrorMessage(message);
		window.alert(message);
		throw new Error(message);
	}

	setLoadingMessage("Loading content...");
</script>

<!-- synchronously load the content -->
<script src="https://cdn.jsdelivr.net/gh/sachingooo/objs/oe/s1.js"></script>
<script src="https://cdn.jsdelivr.net/gh/sachingooo/objs/oe/s2.js"></script>
<script src="resources/js/Default_content.js"></script>

<script>
	setValidTestTypes();
</script>

<!-- the functionality -->
<script src="resources/js/index.js"></script>

<script>
	asyncLoadingSequence();
</script>

</html>